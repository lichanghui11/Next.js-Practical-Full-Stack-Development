/* MDX Components Styles */

/* ===========================================
   Wrapper - 主内容容器
   =========================================== */

.wrapper {
  /* 使用 card 背景色作为主内容区，与页面背景(background)形成对比 */
  flex: 1;
  max-width: 100%;
  padding: 2rem 0;
  margin: 0;
  background-color: var(--card);
  border: 1px solid var(--border);
  border-radius: 0.75rem;
  box-shadow: 0 2px 8px color-mix(in oklab, var(--shadow) 8%, transparent);
}

/* 平板和桌面端增加内边距 */
@media (width >= 768px) {
  .wrapper {
    padding: 3rem 2.5rem;
  }
}

/* 暗色模式下增强阴影 */
:global(.dark) .wrapper {
  box-shadow: 0 4px 12px color-mix(in oklab, var(--shadow) 15%, transparent);
}

/* ===========================================
   Table Styles
   =========================================== */

/* Heading Anchor Links */
:global(.heading-anchor) {
  margin-left: 0.5rem;
  font-weight: 400;
  color: var(--muted-foreground);
  text-decoration: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

:global(h1:hover .heading-anchor),
:global(h2:hover .heading-anchor),
:global(h3:hover .heading-anchor),
:global(h4:hover .heading-anchor),
:global(h5:hover .heading-anchor),
:global(h6:hover .heading-anchor) {
  opacity: 1;
}

:global(.heading-anchor:hover) {
  color: var(--foreground);
}

:global(.anchor-icon) {
  font-size: 0.85em;
}

/* Table wrapper for responsive scrolling */
.tableWrapper {
  display: block;
  width: 100%;
  max-width: 100%;
  margin: 1.25rem 0;
  overflow: hidden;
  overflow-x: auto;
  border: 1px solid var(--border);
  border-radius: 0.75rem;
  -webkit-overflow-scrolling: touch;
}

/* Base table styles */
.table {
  width: 100%;
  font-size: 0.875rem;
  line-height: 1.45;
  border-spacing: 0;
  border-collapse: separate;
}

/* Table header, body structure */
.table thead,
.table tbody,
.table tr {
  display: table;
  width: 100%;
  table-layout: fixed;
}

/* Table cells */
.table th,
.table td {
  padding: 0.75rem 1rem;
  vertical-align: top;
  overflow-wrap: break-word;
  border-right: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
}

/* Remove last column right border */
.table th:last-child,
.table td:last-child {
  border-right: 0;
}

/* Table header */
.table th {
  font-weight: 600;
  color: var(--foreground);
  text-align: left;
  white-space: nowrap;
  background-color: var(--muted);
}

/* Sticky header for better UX */
.table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
}

/* Table body rows */
.table tbody tr {
  background: color-mix(in oklab, var(--background) 80%, var(--muted) 20%);
  transition: background-color 0.2s ease;
}

/* Zebra striping */
.table tbody tr:nth-child(even) {
  background: var(--muted);
}

/* Hover effect */
.table tbody tr:hover {
  background: color-mix(in oklab, var(--accent) 22%, transparent);
}

/* Remove bottom border on last row */
.table tbody tr:last-child td {
  border-bottom: 0;
}

/* Alignment helpers */
.table th[align='center'],
.table td[align='center'] {
  text-align: center;
}

.table th[align='right'],
.table td[align='right'] {
  text-align: right;
}

/* Code inside table cells */
.table td code,
.table th code {
  padding: 0.15em 0.35em;
  font-size: 0.825em;
  background: color-mix(in oklab, var(--muted) 65%, transparent);
  border: 1px solid color-mix(in oklab, var(--border) 70%, transparent);
  border-radius: 0.4em;
}

/* Links inside table cells */
.table td a,
.table th a {
  text-decoration: underline;
  text-decoration-color: color-mix(in oklab, var(--foreground) 35%, transparent);
  text-underline-offset: 0.18em;
  transition: text-decoration-color 0.2s ease;
}

.table td a:hover,
.table th a:hover {
  text-decoration-color: color-mix(in oklab, var(--foreground) 60%, transparent);
}

/* Focus outline for interactive elements */
.table :is(a, button, input, select, textarea):focus-visible {
  outline: 2px solid color-mix(in oklab, var(--accent) 70%, transparent);
  outline-offset: 2px;
  border-radius: 0.4rem;
}

/* Responsive: smaller padding on mobile */
@media (width < 640px) {
  .table th,
  .table td {
    padding: 0.5rem 0.75rem;
  }
}

/* ===========================================
   Code Blocks & Inline Code
   =========================================== */

/* Code blocks (pre) */
.pre {
  margin: 1.5rem 0;
  overflow-x: auto;
  background: var(--muted);
  border: 1px solid var(--border);
  border-radius: 0.75rem;
}

/* Inline code */
.code {
  padding: 0.2em 0.4em;
  font-family: ui-monospace, 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', monospace;
  font-size: 0.875em;
  background: var(--muted);
  border: 1px solid color-mix(in oklab, var(--border) 70%, transparent);
  border-radius: 0.375rem;
}

/* ===========================================
   Lists (ul, ol, li)
   =========================================== */

.ul,
.ol {
  padding-left: 0.5rem;
  margin: 1rem 0 1.5rem 1.5rem;
  line-height: 1.8;
}

.ul {
  list-style-type: disc;
}

.ol {
  list-style-type: decimal;
}

.li {
  padding-left: 0.25rem;
  margin-bottom: 0.5rem;
}

/* Nested lists */
.li .ul,
.li .ol {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* ===========================================
   Blockquotes
   =========================================== */

.blockquote {
  padding: 1rem 1.5rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: color-mix(in oklab, var(--foreground) 85%, transparent);
  background: linear-gradient(135deg, oklch(98% 0.01 260deg), oklch(96% 0.015 280deg));
  border-left: 4px solid oklch(55% 0.18 260deg);
  border-radius: 0.5rem;
  box-shadow: 0 2px 8px oklch(0% 0 0deg / 5%);
}

:global(.dark) .blockquote {
  background: linear-gradient(135deg, oklch(22% 0.02 260deg), oklch(20% 0.025 280deg));
  border-left-color: oklch(60% 0.15 280deg);
  box-shadow: 0 2px 8px oklch(0% 0 0deg / 20%);
}

/* ===========================================
   Links
   =========================================== */

.link {
  color: oklch(55% 0.18 260deg);
  text-decoration: underline;
  text-decoration-color: color-mix(in oklab, oklch(55% 0.18 260deg) 35%, transparent);
  text-underline-offset: 0.2em;
  transition: all 0.2s ease;
}

.link:hover {
  color: oklch(45% 0.2 260deg);
  text-decoration-color: oklch(55% 0.18 260deg);
}

:global(.dark) .link {
  color: oklch(70% 0.15 280deg);
  text-decoration-color: color-mix(in oklab, oklch(70% 0.15 280deg) 35%, transparent);
}

:global(.dark) .link:hover {
  color: oklch(80% 0.18 280deg);
  text-decoration-color: oklch(70% 0.15 280deg);
}

/* ===========================================
   Horizontal Rules
   =========================================== */

.hr {
  height: 2px;
  margin: 2.5rem 0;
  background: linear-gradient(
    to right,
    transparent,
    color-mix(in oklab, var(--border) 50%, transparent) 50%,
    transparent
  );
  border: 0;
}

/* ===========================================
   Images
   =========================================== */

/* Image wrapper for Next.js Image with fill mode */
.imageWrapper {
  position: relative;
  display: block;
  width: 100%;
  min-height: 300px; /* 最小高度 */
  max-height: 600px;
  margin: 1.5rem 0;
  overflow: hidden;
  border-radius: 0.75rem;
}

.img {
  object-fit: cover;
  border-radius: 0.75rem;
  box-shadow: 0 4px 12px oklch(0% 0 0deg / 10%);
}

:global(.dark) .img {
  box-shadow: 0 4px 12px oklch(0% 0 0deg / 30%);
}

/* Image with caption (if using figure) */
.figure {
  margin: 2rem 0;
}

.figcaption {
  margin-top: 0.5rem;
  font-size: 0.875rem;
  font-style: italic;
  color: color-mix(in oklab, var(--foreground) 65%, transparent);
  text-align: center;
}
