/* 
   :root 选择器匹配文档树的根元素 (<html>)。
   它是定义全局 CSS 变量 (Custom Properties) 的最佳位置。
   
   变量定义规范：
   1. 必须以两个减号 (--) 开头。
   2. 命名规范：推荐使用 Kebab-case (连字符分割)，格式通常为 "--类别-属性-修饰"。
      - 例如: --color-primary-500, --spacing-lg
      - 本文件采用了 "--z-index-业务场景" 的命名方式，语义清晰。
   3. 使用方法：在 CSS 任何地方通过 var(--变量名) 读取。
      - 例如: z-index: var(--z-index-header);
*/
:root {
  /* 首页鼠标交互元素的层级，z-index 为 30 */
  --z-index-home-mouse: 30;

  /* 移动端目录（Table of Contents）的层级，z-index 为 40 */
  --z-index-mobile-toc: 40;

  /* 禁用状态（通常用于遮罩层）的层级，z-index 为 45 */
  --z-index-disable-before: 45;

  /* 页头的层级，z-index 为 49 */
  --z-index-header: 49;

  /* 模态框的层级，z-index 为 50 */
  --z-index-modal: 50;

  /* 移动端页头模态框的层级，z-index 为 60 */
  --z-index-mobile-header-modal: 60;

  /* 移动端页头的层级，设置为极高的 999 确保始终在最顶层 */
  --z-index-mobile-header: 999;
}

html {
  @apply scroll-smooth;
}

xbody {
  /* 场景1: 默认背景为 PC端 亮色 */
  background-image: url('/images/bg-pc-light.png');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: center;
  background-size: cover;
}

/* 场景2: PC端 暗色 */
xhtml.dark xbody {
  background-image: url('/images/bg-pc-dark.png');
}

@media (width <= 768px) {
  /* 场景3: mobile端 亮色 */
  xbody {
    background-image: url('/images/bg-mobile-light.png');
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-position: center;
    background-size: cover;
  }

  xhtml.dark body {
    background-image: url('/images/bg-mobile-dark.png');
  }
}

/* 悬浮目录容器 */
#toc-portal-root {
  position: sticky;
  top: 60px; /* 距离顶部多远开始吸顶 */
  right: 1rem;
  z-index: 1000;
  width: 250px;
  max-height: calc(100vh - 4rem); /* 防止目录比屏幕还高 */
  overflow-y: auto;
}
